import{f5 as H,f6 as g,a7 as P,f7 as W}from"./index-8a7d0ddb.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.10.0
 */(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,s){n instanceof HTMLElement||l(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||l(TypeError,"The specified element is not a submit button"),n.form==s||l(DOMException,"The specified element is not owned by this form element","NotFoundError")}function l(n,s,r){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",r)}})(HTMLFormElement.prototype);const v="hidden-form-input";function k(e){return"checked"in e}const C=new WeakMap,F=new WeakSet;function q(e,t){if(g(t.parentElement,"[form]"))return!0;const n="calciteInternalFormComponentRegister";let s=!1;return e.addEventListener(n,r=>{s=r.composedPath().some(a=>F.has(a)),r.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),s}function J(e){const{formEl:t}=e;return t?(t.requestSubmit(),!0):!1}function K(e){var t;(t=e.formEl)==null||t.reset()}function Q(e){const{el:t,value:l}=e,n=A(e);if(!n||q(n,t))return;e.formEl=n,e.defaultValue=l,k(e)&&(e.defaultChecked=e.checked);const s=(e.onFormReset||N).bind(e);n.addEventListener("reset",s),C.set(e.el,s),F.add(t)}function A(e){const{el:t,form:l}=e;return l?H(t,{id:l}):g(t,"form")}function N(){if(k(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function U(e){const{el:t,formEl:l}=e;if(!l)return;const n=C.get(t);l.removeEventListener("reset",n),C.delete(t),e.formEl=null,F.delete(t)}const R=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},w=e=>e.removeEventListener("change",R);function V(e){const{el:t,formEl:l,name:n,value:s}=e,{ownerDocument:r}=t,a=t.querySelectorAll(`input[slot="${v}"]`);if(!l||!n){a.forEach(i=>{w(i),i.remove()});return}const o=Array.isArray(s)?s:[s],c=[],I=new Set;a.forEach(i=>{const d=o.find(O=>O==i.value);d!=null?(I.add(d),M(e,i,d)):c.push(i)});let f;o.forEach(i=>{if(I.has(i))return;let d=c.pop();d||(d=r.createElement("input"),d.slot=v),f||(f=r.createDocumentFragment()),f.append(d),d.addEventListener("change",R),M(e,d,i)}),f&&t.append(f),c.forEach(i=>{w(i),i.remove()})}function M(e,t,l){var c;const{defaultValue:n,disabled:s,form:r,name:a,required:o}=e;t.defaultValue=n,t.disabled=s,t.name=a,t.required=o,t.tabIndex=-1,r?t.setAttribute("form",r):t.removeAttribute("form"),k(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?l||"on":""):t.value=l||"",(c=e.syncHiddenFormInput)==null||c.call(e,t)}const X=({component:e})=>(V(e),P("slot",{name:v}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.10.0
 */const x="calciteInternalLabelClick",y="calciteInternalLabelConnected",L="calciteInternalLabelDisconnected",S="calcite-label",h=new WeakMap,b=new WeakMap,E=new WeakMap,m=new WeakMap,u=new WeakSet,B=e=>{const{id:t}=e,l=t&&H(e,{selector:`${S}[for="${t}"]`});if(l)return l;const n=g(e,S);return!n||$(n,e)?null:n};function $(e,t){let l;const n="custom-element-ancestor-check",s=a=>{a.stopImmediatePropagation();const o=a.composedPath();l=o.slice(o.indexOf(t),o.indexOf(e))};return e.addEventListener(n,s,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,s),l.filter(a=>a!==t&&a!==e).filter(a=>{var o;return(o=a.tagName)==null?void 0:o.includes("-")}).length>0}function p(e){const t=B(e.el);if(b.has(t)&&t===e.labelEl||!t&&u.has(e))return;const l=z.bind(e);if(t){e.labelEl=t;const n=h.get(t)||[];n.push(e),h.set(t,n.sort(D)),b.has(e.labelEl)||(b.set(e.labelEl,T),e.labelEl.addEventListener(x,T)),u.delete(e),document.removeEventListener(y,E.get(e)),m.set(e,l),document.addEventListener(L,l)}else u.has(e)||(l(),document.removeEventListener(L,m.get(e)))}function Y(e){if(u.delete(e),document.removeEventListener(y,E.get(e)),document.removeEventListener(L,m.get(e)),E.delete(e),m.delete(e),!e.labelEl)return;const t=h.get(e.labelEl);t.length===1&&(e.labelEl.removeEventListener(x,b.get(e.labelEl)),b.delete(e.labelEl)),h.set(e.labelEl,t.filter(l=>l!==e).sort(D)),e.labelEl=null}function D(e,t){return W(e.el,t.el)?-1:1}function Z(e){var t,l;return e.label||((l=(t=e.labelEl)==null?void 0:t.textContent)==null?void 0:l.trim())||""}function T(e){const t=e.detail.sourceEvent.target,l=h.get(this),n=l.find(a=>a.el===t);if(l.includes(n))return;const r=l[0];r.disabled||r.onLabelClick(e)}function j(){u.has(this)&&p(this)}function z(){u.add(this);const e=E.get(this)||j.bind(this);E.set(this,e),document.addEventListener(y,e)}export{X as H,Q as a,U as b,p as c,Y as d,A as f,Z as g,K as r,J as s};
