import{c as u,a as b}from"./devEnvironmentUtils-4eab2a99.js";import{s as c,cf as f,bY as o,co as p,ci as m,cj as i,j as w,I as d,cg as g,cp as h}from"./index-12a23f8f.js";import{getStyleItemFromStyle as S}from"./webStyleSymbolUtils-e78e50f2.js";async function M(e,a,t){if(!e.name)throw new c("style-symbol-reference-name-missing","Missing name in style symbol reference");if(e.styleName&&e.styleName==="Esri2DPointSymbolsStyle")return $(e,t);try{return j(await f(e,a,t),e.name,a,t)}catch(n){return o(n),null}}async function $(e,a){const t=p.replaceAll(/\{SymbolName\}/gi,e.name);try{const n=await m(t,a);return i(n.data)}catch(n){return o(n),null}}async function j(e,a,t,n){const y={portal:(t==null?void 0:t.portal)!=null?t.portal:w.getDefault(),url:d(e.baseUrl),origin:"portal-item"},s=S(a,e.data);if(!s)throw new c("symbolstyleutils:symbol-name-not-found",`The symbol name '${a}' could not be found`,{symbolName:a});let r=g(h(s,"cimRef"),y);u()&&(r=b(r));try{const l=await m(r,n);return i(l.data)}catch(l){return o(l),null}}export{M as fetchCIMSymbolReference};
